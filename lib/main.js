Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./command"),t=require("path");var o;function n(t,o){process.env[t]=o,e.issueCommand("set-env",{name:t},o)}function s(t){e.issue("error",t)}!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(o=exports.ExitCode||(exports.ExitCode={})),exports.exportVariable=n,exports.exportSecret=function(t,o){n(t,o),e.issueCommand("set-secret",{},o)},exports.addPath=function(o){e.issueCommand("add-path",{},o),process.env.PATH=`${o}${t.delimiter}${process.env.PATH}`},exports.getInput=function(e,t){const o=process.env[`INPUT_${e.replace(" ","_").toUpperCase()}`]||"";if(t&&t.required&&!o)throw new Error(`Input required and not supplied: ${e}`);return o.trim()},exports.setOutput=function(t,o){e.issueCommand("set-output",{name:t},o)},exports.setFailed=function(e){process.exitCode=o.Failure,s(e)},exports.debug=function(t){e.issueCommand("debug",{},t)},exports.error=s,exports.warning=function(t){e.issue("warning",t)};var i=function(e){return e&&e.__esModule?e:{default:e}},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(exports,"__esModule",{value:!0});const a=require("@octokit/graphql"),u=i(require("@octokit/rest")),c=r(require("./context"));u.default.prototype=new u.default,exports.context=new c.Context;class d extends u.default{constructor(e,t={}){super(Object.assign(Object.assign({},t),{auth:`token ${e}`})),this.graphql=a.defaults({headers:{authorization:`token ${e}`}})}}exports.GitHub=d;const l=["[this cute kitten ðŸ˜º](https://www.youtube.com/watch?v=0Bmhjf0rKe8)","this awesome picture\n\n![image](https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Sunset_2007-1.jpg/1280px-Sunset_2007-1.jpg)"];Math.floor(Math.random()*l.length);async function p(e){}async function f(e,t){const o=(void 0)("repository"),n=(void 0)("categoty");o&&n?async function(e,t){console.log(`Checking ${e} (${t})`)}(o,n):(0===e.length&&(void 0)("You need to add an action."),e.split(",").forEach((async function(e){0!==e.length&&("IssueGreeter"===e.trim()&&await async function(e){0}(),"PullLabler"===e.trim()&&await async function(e){console.log("Removing lables"),await e.issues.removeLabels({owner:void 0,repo:void 0,issue_number:void 0});var t=[];const o=await async function(e,t){const o=(await e.pulls.listFiles({owner:void 0,repo:void 0,pull_number:t})).data.map(e=>e.filename);(void 0)("found changed files:");for(const e of o)(void 0)("  "+e);return o}(e,void 0);console.log("Changed files"),console.log(String(o)),o.forEach((function(e){e.startsWith("documentation")&&t.push("Documentation"),e.endsWith(".py")&&t.push("Backend"),e.startsWith("frontend")&&t.push("Frontend"),e.startsWith("custom_components/hacs/frontend/")&&t.push("Frontend")})),console.log("Adding lables"),console.log(String(t)),0!==t.length&&await e.issues.addLabels({owner:void 0,repo:void 0,issue_number:void 0,labels:t})}(t),"PullGreeter"===e.trim()&&await async function(e){0}(),"HacktoberFest"===e.trim()&&await p())})))}!async function(){try{const e=new(void 0)((void 0)("github-token",{required:!0}));await p(),await f((void 0)("modules"),e)}catch(e){(void 0)(e.message)}}();
